<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Details - {{ server_id }}</title>
    <link rel="stylesheet" href="C:\Users\Roman\PycharmProjects\DashMonitor\static\styles.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <h1>Server Details - {{ server_id }}</h1>
    <div id="cpu-chart"></div>
    <div id="memory-chart"></div>
    <div id="disk-chart"></div>
    <div id="network-chart"></div>
    <script>
        var metrics = {{ metrics | tojson }};
        var timestamps = metrics.map(m => new Date(m[2] * 1000));
        var cpu = metrics.map(m => m[3]);
        var memory = metrics.map(m => m[4]);
        var disk = metrics.map(m => m[5]);
        var net_sent = metrics.map(m => m[6]);
        var net_recv = metrics.map(m => m[7]);

        Plotly.newPlot('cpu-chart', [{x: timestamps, y: cpu, type: 'scatter', name: 'CPU Usage'}], {title: 'CPU Usage'});
        Plotly.newPlot('memory-chart', [{x: timestamps, y: memory, type: 'scatter', name: 'Memory Usage'}], {title: 'Memory Usage'});
        Plotly.newPlot('disk-chart', [{x: timestamps, y: disk, type: 'scatter', name: 'Disk Usage'}], {title: 'Disk Usage'});
        Plotly.newPlot('network-chart', [
            {x: timestamps, y: net_sent, type: 'scatter', name: 'Network Sent'},
            {x: timestamps, y: net_recv, type: 'scatter', name: 'Network Received'}
        ], {title: 'Network Usage'});
    </script>
</body>
</html>